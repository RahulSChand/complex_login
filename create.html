<script>
    function login() {
        const dob = document.getElementById('dob').value;
        const customerID = document.getElementById('customerID').value;
        const password = document.getElementById('password').value;
        const errorMessage = document.getElementById('error-message');

        const dobParts = dob.split('/');
        if (dobParts.length !== 3 || isNaN(dobParts[0]) || isNaN(dobParts[1]) || isNaN(dobParts[2])) {
            errorMessage.textContent = 'Please enter a valid date in MM/DD/YYYY format.';
            return;
        }

        const birthDate = new Date(`${dobParts[2]}-${dobParts[0]}-${dobParts[1]}`);
        const age = new Date().getFullYear() - birthDate.getFullYear();

        if (age < 70) {
            errorMessage.textContent = 'Enter DOB again. Age should be 40+.';
            return;
        } else {
            errorMessage.textContent = '';
        }

        if (isNaN(customerID)) {
            errorMessage.textContent = 'Customer ID must be a number.';
            return;
        }

        if (customerID % 7 !== 0) {  // Check if the customerID is not even
            errorMessage.textContent = 'There was some error pls check faq on the homepage';
            return;
        } else {
            errorMessage.textContent = '';
        }

        localStorage.setItem('password', password);
        localStorage.setItem('customerID', customerID);

        window.location.href = 'login.html';
    }
</script>
